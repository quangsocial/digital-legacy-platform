# âŒ Key Sai! ÄÃ¢y LÃ  Anon Key

## ğŸ” Key Báº¡n Vá»«a Gá»­i

```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNra2hienJ2emJzcWVidWpsd2N1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA1MjMyNjksImV4cCI6MjA3NjA5OTI2OX0.e5cZBssEwLEvekK2U3-9l0qGtgcYIz5ABLndgjtF-_E
```

**Decode:**
```json
{
  "role": "anon"  â† ÄÃšNG LÃ€ ANON KEY (Ä‘Ã£ cÃ³ trong .env.local)
}
```

---

## âœ… Key Cáº§n TÃ¬m

**Service Role Key** pháº£i:
- âœ… DÃ i hÆ¡n (600-800 kÃ½ tá»± thay vÃ¬ 200)
- âœ… CÃ³ `"role": "service_role"` khi decode
- âœ… BÃªn cáº¡nh cÃ³ icon ğŸ”’ (khÃ³a Ä‘á») vÃ  chá»¯ **"secret"**
- âœ… Máº·c Ä‘á»‹nh bá»‹ áº©n thÃ nh `â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢`

---

## ğŸ“¸ HÃ¬nh áº¢nh Trong Supabase Dashboard

Khi vÃ o https://supabase.com/dashboard/project/skkhbzrvzbsqebujlwcu/settings/api

Báº¡n sáº½ tháº¥y:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Project API keys                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚ anon                                      public ğŸ”“ â”‚
â”‚ eyJhbGciOiJIUzI1NiIsInR5cCI6...         [ğŸ‘ï¸] [ğŸ“‹] â”‚
â”‚ â†‘ KEY NÃ€Y Báº N Vá»ªA Gá»¬I (200 kÃ½ tá»±)                  â”‚
â”‚                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚ service_role                             secret ğŸ”’ â”‚
â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢          [ğŸ‘ï¸] [ğŸ“‹] â”‚
â”‚ â†‘ COPY KEY NÃ€Y (600-800 kÃ½ tá»±, Bá»Š áº¨N)             â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ 3 CÃ¡ch Láº¥y Service Role Key

### CÃ¡ch 1: Click Icon Copy ğŸ“‹ (NHANH NHáº¤T)
1. VÃ o: https://supabase.com/dashboard/project/skkhbzrvzbsqebujlwcu/settings/api
2. TÃ¬m key thá»© 2 cÃ³ chá»¯ **"service_role"** vÃ  icon ğŸ”’
3. Click icon **ğŸ“‹ (copy)** bÃªn pháº£i
4. Key tá»± Ä‘á»™ng copy vÃ o clipboard (khÃ´ng cáº§n nhÃ¬n tháº¥y)

### CÃ¡ch 2: Click Icon Máº¯t ğŸ‘ï¸
1. TÃ¬m key **service_role**
2. Click icon **ğŸ‘ï¸ (máº¯t)** Ä‘á»ƒ reveal key
3. Select toÃ n bá»™ vÃ  Ctrl+C

### CÃ¡ch 3: DÃ¹ng Supabase CLI (Náº¿u CÃ³)
```bash
# Trong terminal
supabase status --local=false

# Sáº½ hiá»ƒn thá»‹:
# service_role key: eyJhbGc...
```

---

## âœ‹ Chá» ÄÃ£! KhÃ´ng Tháº¥y Key Thá»© 2?

### Kiá»ƒm tra:
1. **ÄÃ£ login Supabase chÆ°a?**
   - Pháº£i Ä‘Äƒng nháº­p tÃ i khoáº£n cÃ³ quyá»n admin project

2. **ÄÃºng project chÆ°a?**
   - URL pháº£i lÃ : `...project/skkhbzrvzbsqebujlwcu/...`

3. **ÄÃ£ load xong chÆ°a?**
   - Äá»£i trang load háº¿t (cÃ³ thá»ƒ máº¥t 2-3 giÃ¢y)
   - Scroll xuá»‘ng xem key service_role cÃ³ á»Ÿ dÆ°á»›i khÃ´ng

4. **CÃ³ quyá»n xem khÃ´ng?**
   - Cáº§n role Owner hoáº·c Admin cá»§a project
   - Náº¿u báº¡n lÃ  Member, khÃ´ng tháº¥y service_role key

---

## ğŸ†˜ Náº¿u Tháº­t Sá»± KhÃ´ng TÃ¬m Tháº¥y

### Giáº£i phÃ¡p 1: Reset Service Role Key
1. VÃ o Settings > API
2. Scroll xuá»‘ng tÃ¬m **"Reset service_role key"** button
3. Click reset, key má»›i sáº½ hiá»‡n ra

### Giáº£i phÃ¡p 2: DÃ¹ng Supabase Support
- VÃ o: https://supabase.com/dashboard/support
- MÃ´ táº£: "Cannot find service_role key in API settings"

### Giáº£i phÃ¡p 3: Táº¡o Project Má»›i (Náº¿u Cáº§n)
- Service role key Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng khi táº¡o project
- Náº¿u project cÅ© cÃ³ váº¥n Ä‘á», cÃ³ thá»ƒ táº¡o project test má»›i

---

## ğŸ“Š So SÃ¡nh Äá»™ DÃ i Key

**Key báº¡n vá»«a gá»­i (Anon):**
```
Length: 205 characters
```

**Service Role Key tháº­t:**
```
Length: 700-800 characters (Gáº¤P 3-4 Láº¦N)
```

Náº¿u key báº¡n copy cÃ³ Ä‘á»™ dÃ i ~200 kÃ½ tá»± â†’ ÄÃ³ lÃ  anon key
Náº¿u key báº¡n copy cÃ³ Ä‘á»™ dÃ i ~700+ kÃ½ tá»± â†’ ÄÃºng rá»“i!

---

## ğŸ” Báº£o Máº­t Quan Trá»ng

**Service Role Key**:
- âš ï¸ BÃ Máº¬T TUYá»†T Äá»I
- âš ï¸ CÃ“ QUYá»€N ADMIN TOÃ€N Bá»˜ DATABASE
- âš ï¸ BYPASS Má»ŒI RLS POLICIES
- âš ï¸ CÃ“ THá»‚ XÃ“A/Sá»¬A Báº¤T Ká»² Dá»® LIá»†U NÃ€O

ğŸ‘‰ **KHÃ”NG BAO GIá»œ**:
- âŒ Commit lÃªn Git
- âŒ Share trÃªn chat/email
- âŒ Äá»ƒ trong code client-side
- âŒ Deploy lÃªn public

âœ… **CHá»ˆ LÆ¯U TRONG**:
- `.env.local` (khÃ´ng commit)
- Biáº¿n mÃ´i trÆ°á»ng server

---

## âœ… Sau Khi CÃ³ Key ÄÃºng

1. **Paste vÃ o `.env.local`:**
   ```bash
   SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNra2hienJ2emJzcWVidWpsd2N1Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSI... (700+ kÃ½ tá»±)
   ```

2. **Khá»Ÿi Ä‘á»™ng láº¡i server:**
   ```bash
   # Ctrl+C trong terminal
   npm run dev
   ```

3. **Test táº¡o user:**
   - VÃ o http://localhost:3000/admin/users
   - Click "ThÃªm ngÆ°á»i dÃ¹ng"
   - Äiá»n form vÃ  submit
   - Náº¿u thÃ nh cÃ´ng â†’ Key Ä‘Ãºng! âœ…
   - Náº¿u váº«n lá»—i "User not allowed" â†’ Key váº«n sai âŒ

---

## ğŸ“ Cáº§n GiÃºp?

Náº¿u váº«n khÃ´ng tÃ¬m tháº¥y, hÃ£y:
1. Screenshot trang API Settings
2. Kiá»ƒm tra vai trÃ² cá»§a báº¡n trong project (Owner/Admin?)
3. Cho tÃ´i biáº¿t Ä‘á»ƒ troubleshoot cá»¥ thá»ƒ hÆ¡n
